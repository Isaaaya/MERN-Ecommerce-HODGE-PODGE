"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[194],{369:function(e,r,t){t.d(r,{Vb:function(){return x},bU:function(){return f},V7:function(){return y}});var n=t(1413),i=t(7689),s=t(3713),d=t(8556),l=t(9644),c=t(483),o=t(2791),a=t(5052),u=t(9085),p=t(8573),v=t(184),x=function(e){var r=e.totalItems,t=e.totalPrice,x=function(e){var r,t=e.order,p=(0,c.p)().user,v=(0,o.useContext)(a.n).emptyCart,x=(0,i.s0)(),h=(0,s.NL)(),m=(0,n.Z)((0,n.Z)({},t),{},{products:null===t||void 0===t||null===(r=t.products)||void 0===r?void 0:r.filter((function(e){return null===e||void 0===e?void 0:e.product}))}),f=(0,d.D)({mutationFn:function(){return(0,l.VK)({instanceType:"orders",data:m})},onSuccess:function(){x("/checkout/success"),null!==p&&void 0!==p&&p.email?h.invalidateQueries({queryKey:["cart"]}):v()},onError:function(e){return e.response.data.errors.map((function(e){return u.Am.error(e.msg)}))}});return{createOrder:f.mutate,isCreateOrderPending:f.isPending}}({order:e.order}),h=x.createOrder,m=x.isCreateOrderPending;return(0,v.jsxs)("article",{className:"min-h-[350px] bg-gray-100/[0.5] rounded-md border p-10 space-y-2 order-1",children:[(0,v.jsxs)("div",{className:"pb-5 space-y-4 border-b-2",children:[(0,v.jsx)(p.zx,{disabled:m,onClick:h,spinner:m,caption:"Order",extraStyles:"w-full h-10",theme:"basicDark"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["By confirming your order, you agree to our company"," ",(0,v.jsx)("span",{className:"text-black",children:"Privacy policy"})," and"," ",(0,v.jsx)("span",{className:"text-black",children:"Conditions of use"}),"."]})]}),(0,v.jsx)("p",{className:"text-lg",children:"Order Summary"}),(0,v.jsxs)("div",{className:"grid grid-cols-2 pb-5 border-b-2 even:text-end [&>*:nth-child(even)]:text-end",children:[(0,v.jsxs)("p",{children:["Items (",r||0,")"]}),(0,v.jsxs)("p",{children:["$",t||0]}),(0,v.jsx)("p",{children:"Shipping and handling"}),(0,v.jsx)("p",{children:"$5.50"})]}),(0,v.jsxs)("div",{className:"grid grid-cols-2 [&>*:nth-child(even)]:text-end",children:[(0,v.jsx)("p",{children:"Order Total:"}),(0,v.jsxs)("p",{children:["$",(t||0)+5.5]})]})]})},h=t(4164),m=t(7363),f=function(e){var r,t=e.showOrderDetails,n=e.order;(0,m.t)({condition:t});var i,s=(i=null===n||void 0===n?void 0:n.createdAt,new Date(i).toLocaleDateString("en-US"));return t?(0,h.createPortal)((0,v.jsx)("div",{className:"fixed top-0 w-full h-full bg-black/[0.2] flex items-center justify-center",children:(0,v.jsxs)("article",{onClick:function(e){return e.stopPropagation()},className:"fixed top-1/2 bottom-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 self-center bg-white border-2 min-w-[85%] h-fit p-8 z-50 rounded-lg [&_div]:text-center space-y-12 text-center ".concat(!t&&"hidden"),children:[(0,v.jsxs)("div",{className:"space-y-3",children:[(0,v.jsxs)("h1",{className:"text-lg font-bold",children:["Order #",null===n||void 0===n?void 0:n._id]}),(0,v.jsxs)("p",{className:"text-start",children:["Order created: ",s]})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"grid grid-cols-3 font-bold ",children:[(0,v.jsx)("p",{className:"col-span-2",children:"Product"}),(0,v.jsx)("p",{children:"Quantity"})]}),(0,v.jsx)("div",{className:"min-h-fit max-h-[400px] overflow-y-auto",children:null===n||void 0===n||null===(r=n.products)||void 0===r?void 0:r.map((function(e){return(0,v.jsxs)("div",{className:"grid grid-cols-3",children:[(0,v.jsx)("p",{className:"col-span-2",children:null===e||void 0===e?void 0:e.product}),(0,v.jsx)("p",{children:null===e||void 0===e?void 0:e.quantity})]},null===e||void 0===e?void 0:e.product)}))})]}),(0,v.jsxs)("div",{className:"[&_p]:text-start space-y-2",children:[(0,v.jsxs)("p",{children:["Total Items: ",null===n||void 0===n?void 0:n.totalItems]}),(0,v.jsxs)("p",{children:["Total Price: $",null===n||void 0===n?void 0:n.totalPrice]})]})]})}),document.getElementById("modal")):null},j=t(1511),g=t(6894),y=function(e){var r=e.setShowOrderDetails,t=(0,o.useRef)(null);return(0,g.O)(t,(function(){return r(!1)})),(0,v.jsx)("button",{ref:t,onClick:function(){return r((function(e){return!e}))},children:(0,v.jsx)(j.tE,{width:"25",height:"25"})})}},4194:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var n=t(6170),i=t(6429),s=t(1413),d=t(9439),l=t(2791),c=t(2739),o=t(369),a=t(4524),u=t(184),p=function(){var e=(0,n.i)(),r=(0,i.b)(),t=r.userCart,p=r.cartTotalItems,v=r.cartTotalPrice,x=function(e){var r,t=e.userCart,i=(0,n.i)(),c=(0,l.useState)({userEmail:(null===i||void 0===i?void 0:i.email)||"",products:[],shippingDetails:{}}),o=(0,d.Z)(c,2),a=o[0],u=o[1];return(0,l.useEffect)((function(){null!==t&&void 0!==t&&t.products&&u((function(e){var r;return(0,s.Z)((0,s.Z)({},e),{},{products:null===t||void 0===t||null===(r=t.products)||void 0===r?void 0:r.map((function(e){var r;return{product:null===e||void 0===e||null===(r=e.product)||void 0===r?void 0:r._id,quantity:null===e||void 0===e?void 0:e.quantity}}))})}))}),[(null===t||void 0===t||null===(r=t.products)||void 0===r?void 0:r.length)>0]),{order:a,setOrder:u}}({userCart:t}),h=x.order,m=x.setOrder;return(0,u.jsx)("section",{className:"pb-10 max-h-fit",children:(0,u.jsxs)(c.W2,{extraStyles:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[(0,u.jsxs)("div",{className:"space-y-5",children:[(0,u.jsx)(a.wc,{user:e,order:h,setOrder:m}),(0,u.jsx)(o.Vb,{order:h,totalItems:p,totalPrice:v})]}),(0,u.jsx)(a.yj,{cart:t,cartTotalPrice:v})]})})}}}]);
//# sourceMappingURL=194.dda21854.chunk.js.map