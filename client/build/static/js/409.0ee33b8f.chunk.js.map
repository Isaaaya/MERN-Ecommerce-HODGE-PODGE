{"version":3,"file":"static/js/409.0ee33b8f.chunk.js","mappings":"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","sources":["Components/Order/OrderArticle.jsx","hooks/order/useCreateOrder.js","Components/Order/OrderDetailsModal.jsx","utils/functions/getDate.js","Components/Order/ViewOrderInfoButton.jsx","Pages/CheckOutPage.jsx","hooks/order/useHandleOrder.js"],"sourcesContent":["import { useCreateOrder } from \"hooks/order/useCreateOrder\";\nimport { Button } from \"Components/Common\";\n\nconst OrderArticle = ({ totalItems, totalPrice, order }) => {\n  const { createOrder, isCreateOrderPending } = useCreateOrder({\n    order,\n  });\n\n  return (\n    <article className=\"min-h-[350px] bg-gray-100/[0.5] rounded-md border p-10 space-y-2 order-1\">\n      <div className=\"pb-5 space-y-4 border-b-2\">\n        <Button\n          disabled={isCreateOrderPending}\n          onClick={createOrder}\n          spinner={isCreateOrderPending}\n          caption=\"Order\"\n          extraStyles=\"w-full h-10\"\n          theme=\"basicDark\"\n        />\n        <p className=\"text-gray-600\">\n          By confirming your order, you agree to our company{\" \"}\n          <span className=\"text-black\">Privacy policy</span> and{\" \"}\n          <span className=\"text-black\">Conditions of use</span>.\n        </p>\n      </div>\n      <p className=\"text-lg\">Order Summary</p>\n      <div className=\"grid grid-cols-2 pb-5 border-b-2 even:text-end [&>*:nth-child(even)]:text-end\">\n        <p>Items ({totalItems || 0})</p>\n        <p>${totalPrice || 0}</p>\n        <p>Shipping and handling</p>\n        <p>$5.50</p>\n      </div>\n      <div className=\"grid grid-cols-2 [&>*:nth-child(even)]:text-end\">\n        <p>Order Total:</p>\n        <p>${(totalPrice || 0) + 5.5}</p>\n      </div>\n    </article>\n  );\n};\n\nexport default OrderArticle;\n","import { useNavigate } from \"react-router-dom\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { createInstanceAPI } from \"api/instance\";\nimport { useGetUser } from \"hooks/user/useGetUser\";\nimport { useContext } from \"react\";\nimport { LocalCartContext } from \"context/LocalCartContext\";\nimport { toast } from \"react-toastify\";\n\nexport const useCreateOrder = ({ order }) => {\n    const { user } = useGetUser();\n    const { emptyCart } = useContext(LocalCartContext);\n    const nagivate = useNavigate();\n    const queryClient = useQueryClient();\n\n    const orderWithAvailableProducts = { ...order, products: order?.products?.filter((item) => item?.product) };\n\n    const { mutate: createOrder, isPending: isCreateOrderPending } = useMutation({\n        mutationFn: () => createInstanceAPI({ instanceType: \"orders\", data: orderWithAvailableProducts }),\n        onSuccess: () => {\n            nagivate(\"/checkout/success\");\n            if (user?.email) queryClient.invalidateQueries({ queryKey: [\"cart\"] });\n            else emptyCart();\n        },\n        onError: (error) => error.response.data.errors.map((err) => toast.error(err.msg))\n    });\n\n    return { createOrder, isCreateOrderPending };\n}\n","import { createPortal } from \"react-dom\";\nimport { usePreventScroll } from \"hooks/preventScroll/usePreventScroll\";\nimport { getDate } from \"utils/functions/getDate\";\n\nconst OrderDetailsModal = ({ showOrderDetails, order }) => {\n  usePreventScroll({ condition: showOrderDetails });\n  const orderCreationDate = getDate(order?.createdAt);\n\n  if (!showOrderDetails) return null;\n\n  return createPortal(\n    <div className=\"fixed top-0 w-full h-full bg-black/[0.2] flex items-center justify-center\">\n      <article\n        onClick={(e) => e.stopPropagation()}\n        className={`fixed top-1/2 bottom-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 self-center bg-white border-2 min-w-[85%] h-fit p-8 z-50 rounded-lg [&_div]:text-center space-y-12 text-center ${\n          !showOrderDetails && \"hidden\"\n        }`}\n      >\n        <div className=\"space-y-3\">\n          <h1 className=\"text-lg font-bold\">Order #{order?._id}</h1>\n          <p className=\"text-start\">Order created: {orderCreationDate}</p>\n        </div>\n        <div>\n          <div className=\"grid grid-cols-3 font-bold \">\n            <p className=\"col-span-2\">Product</p>\n            <p>Quantity</p>\n          </div>\n          <div className=\"min-h-fit max-h-[400px] overflow-y-auto\">\n            {order?.products?.map((item) => (\n              <div key={item?.product} className=\"grid grid-cols-3\">\n                <p className=\"col-span-2\">{item?.product}</p>\n                <p>{item?.quantity}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"[&_p]:text-start space-y-2\">\n          <p>Total Items: {order?.totalItems}</p>\n          <p>Total Price: ${order?.totalPrice}</p>\n        </div>\n      </article>\n    </div>,\n    document.getElementById(\"modal\")\n  );\n};\n\nexport default OrderDetailsModal;\n","\nexport const getDate = (date) => {\n    return new Date(date).toLocaleDateString('en-US');\n}\n","import { useRef } from \"react\";\nimport { EyeIcon } from \"assets/icons\";\nimport { useClickOutside } from \"hooks/clickOutside/useClickOutside\";\n\nconst ViewOrderInfoButton = ({ setShowOrderDetails }) => {\n  const wrapperRef = useRef(null);\n  useClickOutside(wrapperRef, () => setShowOrderDetails(false));\n\n  return (\n    <button\n      ref={wrapperRef}\n      onClick={() => setShowOrderDetails((prevState) => !prevState)}\n    >\n      <EyeIcon width=\"25\" height=\"25\" />\n    </button>\n  );\n};\n\nexport default ViewOrderInfoButton;\n","import { getUserData } from \"utils/functions/getUserData\";\nimport { useGetUserCart } from \"hooks/cart/useGetUserCart\";\nimport { useHandleOrder } from \"hooks/order/useHandleOrder\";\n\nimport { Container } from \"layout\";\nimport { OrderArticle } from \"Components/Order\";\nimport { CheckOutForm, CheckOutCart } from \"Components/CheckOut\";\n\nconst CheckOutPage = () => {\n  const user = getUserData();\n  const { userCart, cartTotalItems, cartTotalPrice } = useGetUserCart();\n  const { order, setOrder } = useHandleOrder({ userCart });\n\n  return (\n    <section className=\"pb-10 max-h-fit\">\n      <Container extraStyles=\"grid grid-cols-1 md:grid-cols-2 gap-10\">\n        <div className=\"space-y-5\">\n          <CheckOutForm user={user} order={order} setOrder={setOrder} />\n          <OrderArticle\n            order={order}\n            totalItems={cartTotalItems}\n            totalPrice={cartTotalPrice}\n          />\n        </div>\n        <CheckOutCart cart={userCart} cartTotalPrice={cartTotalPrice} />\n      </Container>\n    </section>\n  );\n};\n\nexport default CheckOutPage;\n","import { useEffect, useState } from \"react\";\nimport { getUserData } from \"utils/functions/getUserData\";\n\nexport const useHandleOrder = ({ userCart }) => {\n    const user = getUserData();\n\n    const [order, setOrder] = useState({\n        userEmail: user?.email || \"\",\n        products: [],\n        shippingDetails: {},\n    });\n\n    useEffect(() => {\n        if (userCart?.products) setOrder((prevState) => ({ ...prevState, products: userCart?.products?.map((item) => ({ product: item?.product?._id, quantity: item?.quantity })) }))\n    }, [userCart?.products?.length > 0]);\n\n    return { order, setOrder };\n} \n"],"names":["_ref","totalItems","totalPrice","_useCreateOrder","_order$products","order","user","useGetUser","emptyCart","useContext","LocalCartContext","nagivate","useNavigate","queryClient","useQueryClient","orderWithAvailableProducts","_objectSpread","products","filter","item","product","_useMutation","useMutation","mutationFn","createInstanceAPI","instanceType","data","onSuccess","email","invalidateQueries","queryKey","onError","error","response","errors","map","err","toast","msg","createOrder","mutate","isCreateOrderPending","isPending","useCreateOrder","_jsxs","className","children","_jsx","Button","disabled","onClick","spinner","caption","extraStyles","theme","showOrderDetails","usePreventScroll","condition","date","orderCreationDate","createdAt","Date","toLocaleDateString","createPortal","e","stopPropagation","concat","_id","quantity","document","getElementById","setShowOrderDetails","wrapperRef","useRef","useClickOutside","ref","prevState","EyeIcon","width","height","getUserData","_useGetUserCart","useGetUserCart","userCart","cartTotalItems","cartTotalPrice","_useHandleOrder","_userCart$products2","_useState","useState","userEmail","shippingDetails","_useState2","_slicedToArray","setOrder","useEffect","_userCart$products","_item$product","length","useHandleOrder","Container","CheckOutForm","OrderArticle","CheckOutCart","cart"],"sourceRoot":""}