{"version":3,"file":"static/js/496.0844d0d5.chunk.js","mappings":"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","sources":["api/auth.js","components/Auth/AuthButton.jsx","components/Auth/SignoutButton.jsx","hooks/auth/useSignout.js","components/User/UpdateUserButton.jsx","pages/UserProfilePage.jsx","hooks/user/useUpdateUser.js","utils/functions/setUserData.js"],"sourcesContent":["import { API } from \"api/index\";\n\nexport const handleAuthAPI = async ({ mode, user }) => {\n    const { data } = await API.post(`http://localhost:4001/api/auth/${mode}`, user);\n    return data;\n};\n\n\nexport const signoutAPI = async () => {\n    return await API.post(`http://localhost:4001/api/auth/signout`);\n};","import { Button } from \"../common/index\";\n\nconst AuthButton = ({ auth, isAuthPending, mode }) => {\n  return (\n    <Button\n      extraStyles=\"w-[120px] mx-auto h-10\"\n      theme=\"basicDark\"\n      onClick={auth}\n      disabled={isAuthPending}\n      spinner={isAuthPending}\n      caption={mode === \"signin\" ? \"Sign In\" : \"Sign up\"}\n    />\n  );\n};\n\nexport default AuthButton;\n","import { useSignout } from \"hooks/auth/useSignout\";\n\nimport { Button } from \"../common/index\";\n\nconst SignoutButton = () => {\n  const { signout } = useSignout();\n  return (\n    <Button\n      onClick={signout}\n      caption=\"Logout\"\n      theme=\"danger\"\n      extraaStyles=\"w-[150px] h-10 mx-auto\"\n    />\n  );\n};\n\nexport default SignoutButton;\n","import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { signoutAPI } from \"api/auth\";\n\nexport const useSignout = () => {\n    const queryClient = useQueryClient();\n    const navigate = useNavigate();\n    const { mutate: signout } = useMutation({\n        mutationFn: signoutAPI,\n        onSuccess: () => {\n            localStorage.removeItem('user');\n            queryClient.setQueryData(['user'], null);\n            navigate('/');\n        }\n    });\n\n    return { signout }\n}\n","import { Button } from \"../common/index\";\n\nconst UpdateUserButton = ({ updateUser, isUpdateUserPending, updatedUser }) => {\n  const handleUpdateUser = () => {\n    updateUser(updatedUser);\n  };\n  return (\n    <Button\n      theme=\"basicDark\"\n      extraStyles=\"w-[150px] h-10 mx-auto\"\n      caption=\"Update\"\n      disabled={isUpdateUserPending}\n      spinner={isUpdateUserPending}\n      onClick={handleUpdateUser}\n    />\n  );\n};\n\nexport default UpdateUserButton;\n","import { handleChange } from \"utils/functions/handleChange\";\nimport { userInputFields } from \"utils/constants\";\nimport { useUpdateUser } from \"hooks/user/useUpdateUser\";\nimport { camelize } from \"utils/functions/camelize\";\nimport { handleKeyDown } from \"utils/functions/handleKeyDown\";\n\nimport { Spinner } from \"assets/icons\";\nimport { UpdateUserButton } from \"components/User\";\nimport { SignoutButton } from \"components/Auth\";\nimport { Container } from \"layout\";\n\nconst UserProfilePage = () => {\n  const { updatedUser, updateUser, setUpdatedUser, isUpdateUserPending } =\n    useUpdateUser();\n\n  const updateInputFields = updatedUser ? (\n    userInputFields.map((input) => {\n      if (input.caption === \"Password\") return null;\n      return (\n        <input\n          onKeyDown={(e) =>\n            handleKeyDown(e, { selectedKey: \"Enter\", callback: updateUser })\n          }\n          aria-label={input.caption}\n          className=\"p-3 border-b-[2px] border-[#ff8156] focus:outline-none\"\n          value={updatedUser[camelize(input.caption)] || \"\"}\n          type={input.type}\n          key={input.caption}\n          name={camelize(input.caption)}\n          placeholder={input.caption}\n          onChange={(e) => handleChange(e, setUpdatedUser)}\n        />\n      );\n    })\n  ) : (\n    <Spinner width=\"25\" height=\"25\" />\n  );\n\n  return (\n    <section className=\"py-12\">\n      <Container extraStyles=\"flex flex-col items-center w-full gap-10 text-center\">\n        <p className=\"text-4xl font-semibold text-center\">\n          Update your profile\n        </p>\n        <div className=\"flex flex-col justify-center w-[80%] h-[200px] max-w-[500px] mx-auto gap-6\">\n          {updateInputFields}\n        </div>\n        <div className=\"flex gap-5 mx-auto w-fit\">\n          <UpdateUserButton\n            updateUser={updateUser}\n            isUpdateUserPending={isUpdateUserPending}\n            updatedUser={updatedUser}\n          />\n          <SignoutButton />\n        </div>\n      </Container>\n    </section>\n  );\n};\n\nexport default UserProfilePage;\n","import { useState, useEffect } from \"react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { setUserData } from \"utils/functions/setUserData\";\nimport { updateUserProfileAPI } from \"api/user\";\nimport { useGetUser } from \"hooks/user/useGetUser\";\nimport { toast } from 'react-toastify';\n\nexport const useUpdateUser = () => {\n    const [updatedUser, setUpdatedUser] = useState(null);\n    const { user } = useGetUser();\n\n    useEffect(() => {\n        if (user) setUpdatedUser(user);\n    }, [user]);\n\n    const { mutate: updateUser, isPending: isUpdateUserPending, isError: hasUserUpdateErrorOccured } = useMutation({\n        mutationFn: (updatedUser) => updateUserProfileAPI({ updatedUser }),\n        onSuccess: (data) => {\n            setUserData(data);\n        },\n        onError: (error) => error.response.data.errors.map((err) => toast.error(err.msg))\n    });\n\n    return { updatedUser, setUpdatedUser, updateUser, isUpdateUserPending, hasUserUpdateErrorOccured };\n}","export const setUserData = (user) => {\n    return localStorage.setItem('user', JSON.stringify(user));\n};"],"names":["handleAuthAPI","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","mode","user","_yield$API$post","data","wrap","_context","prev","next","API","post","concat","sent","abrupt","stop","_x","apply","arguments","signoutAPI","_ref3","_callee2","_context2","auth","isAuthPending","_jsx","Button","extraStyles","theme","onClick","disabled","spinner","caption","signout","queryClient","useQueryClient","navigate","useNavigate","useMutation","mutationFn","onSuccess","localStorage","removeItem","setQueryData","mutate","useSignout","extraaStyles","updateUser","isUpdateUserPending","updatedUser","_useUpdateUser","_useState","useState","_useState2","_slicedToArray","setUpdatedUser","useGetUser","useEffect","_useMutation","updateUserProfileAPI","setUserData","onError","error","response","errors","map","err","toast","msg","isPending","hasUserUpdateErrorOccured","isError","useUpdateUser","updateInputFields","userInputFields","input","onKeyDown","e","handleKeyDown","selectedKey","callback","className","value","camelize","type","name","placeholder","onChange","handleChange","Spinner","width","height","children","_jsxs","Container","UpdateUserButton","SignoutButton","setItem","JSON","stringify"],"sourceRoot":""}