{"version":3,"file":"static/js/439.52e31794.chunk.js","mappings":"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","sources":["Components/Auth/AuthButton.jsx","Components/Auth/SignoutButton.jsx","hooks/auth/useSignout.js","Components/User/UpdateUserButton.jsx","Pages/UserProfilePage.jsx","hooks/user/useUpdateUser.js","api/auth.js","utils/functions/setUserData.js"],"sourcesContent":["import { Button } from \"Components/Common\";\n\nconst AuthButton = ({ auth, isAuthPending, mode }) => {\n  return (\n    <Button\n      extraStyles=\"w-[120px] mx-auto h-10\"\n      theme=\"basicDark\"\n      onClick={auth}\n      disabled={isAuthPending}\n      spinner={isAuthPending}\n      caption={mode === \"signin\" ? \"Sign In\" : \"Sign up\"}\n    />\n  );\n};\n\nexport default AuthButton;\n","import { useSignout } from \"hooks/auth/useSignout\";\n\nimport { Button } from \"Components/Common\";\n\nconst SignoutButton = () => {\n  const { signout } = useSignout();\n  return (\n    <Button\n      onClick={signout}\n      caption=\"Logout\"\n      theme=\"danger\"\n      extraaStyles=\"w-[150px] h-10 mx-auto\"\n    />\n  );\n};\n\nexport default SignoutButton;\n","import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { signoutAPI } from \"api/auth\";\n\nexport const useSignout = () => {\n    const queryClient = useQueryClient();\n    const navigate = useNavigate();\n    const { mutate: signout } = useMutation({\n        mutationFn: signoutAPI,\n        onSuccess: () => {\n            localStorage.removeItem('user');\n            queryClient.setQueryData(['user'], null);\n            navigate('/');\n        }\n    });\n\n    return { signout }\n}\n","import { Button } from \"Components/Common\";\n\nconst UpdateUserButton = ({ updateUser, isUpdateUserPending, updatedUser }) => {\n  const handleUpdateUser = () => {\n    updateUser(updatedUser);\n  };\n  return (\n    <Button\n      theme=\"basicDark\"\n      extraStyles=\"w-[150px] h-10 mx-auto\"\n      caption=\"Update\"\n      disabled={isUpdateUserPending}\n      spinner={isUpdateUserPending}\n      onClick={handleUpdateUser}\n    />\n  );\n};\n\nexport default UpdateUserButton;\n","import { handleChange } from \"utils/functions/handleChange\";\nimport { userInputFields } from \"utils/constants\";\nimport { useUpdateUser } from \"hooks/user/useUpdateUser\";\nimport { camelize } from \"utils/functions/camelize\";\nimport { handleKeyDown } from \"utils/functions/handleKeyDown\";\n\nimport { Spinner } from \"assets/icons\";\nimport { UpdateUserButton } from \"Components/User\";\nimport { SignoutButton } from \"Components/Auth\";\nimport { Container } from \"layout\";\n\nconst UserProfilePage = () => {\n  const { updatedUser, updateUser, setUpdatedUser, isUpdateUserPending } =\n    useUpdateUser();\n\n  const updateInputFields = updatedUser ? (\n    userInputFields.map((input) => {\n      if (input.caption === \"Password\") return null;\n      return (\n        <input\n          onKeyDown={(e) =>\n            handleKeyDown(e, { selectedKey: \"Enter\", callback: updateUser })\n          }\n          aria-label={input.caption}\n          className=\"p-3 border-b-[2px] border-[#ff8156] focus:outline-none\"\n          value={updatedUser[camelize(input.caption)] || \"\"}\n          type={input.type}\n          key={input.caption}\n          name={camelize(input.caption)}\n          placeholder={input.caption}\n          onChange={(e) => handleChange(e, setUpdatedUser)}\n        />\n      );\n    })\n  ) : (\n    <Spinner width=\"25\" height=\"25\" />\n  );\n\n  return (\n    <section className=\"py-12\">\n      <Container extraStyles=\"flex flex-col items-center w-full gap-10 text-center\">\n        <p className=\"text-4xl font-semibold text-center\">\n          Update your profile\n        </p>\n        <div className=\"flex flex-col justify-center w-[80%] h-[200px] max-w-[500px] mx-auto gap-6\">\n          {updateInputFields}\n        </div>\n        <div className=\"flex gap-5 mx-auto w-fit\">\n          <UpdateUserButton\n            updateUser={updateUser}\n            isUpdateUserPending={isUpdateUserPending}\n            updatedUser={updatedUser}\n          />\n          <SignoutButton />\n        </div>\n      </Container>\n    </section>\n  );\n};\n\nexport default UserProfilePage;\n","import { useState, useEffect } from \"react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { setUserData } from \"utils/functions/setUserData\";\nimport { updateUserProfileAPI } from \"api/user\";\nimport { useGetUser } from \"hooks/user/useGetUser\";\nimport { toast } from 'react-toastify';\n\nexport const useUpdateUser = () => {\n    const [updatedUser, setUpdatedUser] = useState(null);\n    const { user } = useGetUser();\n\n    useEffect(() => {\n        if (user) setUpdatedUser(user);\n    }, [user]);\n\n    const { mutate: updateUser, isPending: isUpdateUserPending, isError: hasUserUpdateErrorOccured } = useMutation({\n        mutationFn: (updatedUser) => updateUserProfileAPI({ updatedUser }),\n        onSuccess: (data) => {\n            setUserData(data);\n        },\n        onError: (error) => error.response.data.errors.map((err) => toast.error(err.msg))\n    });\n\n    return { updatedUser, setUpdatedUser, updateUser, isUpdateUserPending, hasUserUpdateErrorOccured };\n}","import { API } from \"api/index\";\n\nexport const handleAuthAPI = async ({ mode, user }) => {\n    const { data } = await API.post(`http://localhost:4001/api/auth/${mode}`, user);\n    return data;\n};\n\n\nexport const signoutAPI = async () => {\n    return await API.post(`http://localhost:4001/api/auth/signout`);\n};","export const setUserData = (user) => {\n    return localStorage.setItem('user', JSON.stringify(user));\n};"],"names":["_ref","auth","isAuthPending","mode","_jsx","Button","extraStyles","theme","onClick","disabled","spinner","caption","signout","queryClient","useQueryClient","navigate","useNavigate","useMutation","mutationFn","signoutAPI","onSuccess","localStorage","removeItem","setQueryData","mutate","useSignout","extraaStyles","updateUser","isUpdateUserPending","updatedUser","_useUpdateUser","_useState","useState","_useState2","_slicedToArray","setUpdatedUser","user","useGetUser","useEffect","_useMutation","updateUserProfileAPI","data","setUserData","onError","error","response","errors","map","err","toast","msg","isPending","hasUserUpdateErrorOccured","isError","useUpdateUser","updateInputFields","userInputFields","input","onKeyDown","e","handleKeyDown","selectedKey","callback","className","value","camelize","type","name","placeholder","onChange","handleChange","Spinner","width","height","children","_jsxs","Container","UpdateUserButton","SignoutButton","handleAuthAPI","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$API$post","wrap","_context","prev","next","API","post","concat","sent","abrupt","stop","_x","apply","arguments","_ref3","_callee2","_context2","setItem","JSON","stringify"],"sourceRoot":""}