{"version":3,"file":"static/js/224.01a1849f.chunk.js","mappings":"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","sources":["api/auth.js","components/Auth/AuthButton.jsx","components/Auth/SignoutButton.jsx","hooks/auth/useSignout.js","hooks/auth/useAuth.js","hooks/auth/useGetAuthMode.js","pages/AuthPage.jsx","utils/functions/getAuthCaptions.js","utils/functions/setUserData.js"],"sourcesContent":["import { API } from \"api/index\";\n\nexport const handleAuthAPI = async ({ mode, user }) => {\n    const { data } = await API.post(`/auth/${mode}`, user);\n    return data;\n};\n\n\nexport const signoutAPI = async () => {\n    return await API.post(`/auth/signout`);\n};","import { Button } from \"../common/index\";\n\nconst AuthButton = ({ auth, isAuthPending, mode }) => {\n  return (\n    <Button\n      extraStyles=\"w-[120px] mx-auto h-10\"\n      theme=\"basicDark\"\n      onClick={auth}\n      disabled={isAuthPending}\n      spinner={isAuthPending}\n      caption={mode === \"signin\" ? \"Sign In\" : \"Sign up\"}\n    />\n  );\n};\n\nexport default AuthButton;\n","import { useSignout } from \"hooks/auth/useSignout\";\n\nimport { Button } from \"../common/index\";\n\nconst SignoutButton = () => {\n  const { signout } = useSignout();\n  return (\n    <Button\n      onClick={signout}\n      caption=\"Logout\"\n      theme=\"danger\"\n      extraaStyles=\"w-[150px] h-10 mx-auto\"\n    />\n  );\n};\n\nexport default SignoutButton;\n","import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { signoutAPI } from \"api/auth\";\n\nexport const useSignout = () => {\n    const queryClient = useQueryClient();\n    const navigate = useNavigate();\n    const { mutate: signout } = useMutation({\n        mutationFn: signoutAPI,\n        onSuccess: () => {\n            localStorage.removeItem('user');\n            queryClient.setQueryData(['user'], null);\n            navigate('/');\n        }\n    });\n\n    return { signout }\n}\n","import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useGetAuthMode } from \"hooks/auth/useGetAuthMode\";\n\nimport { handleAuthAPI } from \"api/auth\";\nimport { setUserData } from \"utils/functions/setUserData\";\nimport { toast } from 'react-toastify';\n\nexport const useAuth = () => {\n    const { mode } = useGetAuthMode();\n    const [user, setUser] = useState({\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\",\n    });\n\n    const navigate = useNavigate();\n\n    const queryClient = useQueryClient();\n\n    const { mutate: auth, isPending: isAuthPending } = useMutation({\n        mutationFn: () => handleAuthAPI({ mode, user }),\n        onSuccess: (data) => {\n            setUserData(data);\n            queryClient.setQueryData([\"user\"], data);\n            navigate(\"/\");\n        },\n        onError: (error) => {\n            if (error.response.data.message) toast.error(error.response.data.message)\n            if (error.response.data.errors) error.response.data.errors.map((err) => toast.error(err.msg))\n        }\n    });\n\n    return { user, setUser, auth, isAuthPending, mode }\n}\n","import { useLocation } from \"react-router-dom\";\n\nexport const useGetAuthMode = () => {\n    const { pathname } = useLocation();\n    const mode = pathname.split(\"/auth/\")[1];\n\n    return { mode };\n}\n","import { userInputFields } from \"utils/constants\";\nimport { Link } from \"react-router-dom\";\nimport { handleChange } from \"utils/functions/handleChange\";\nimport { handleKeyDown } from \"utils/functions/handleKeyDown\";\nimport { useAuth } from \"hooks/auth/useAuth\";\nimport { camelize } from \"utils/functions/camelize\";\n\nimport { Container } from \"layout\";\nimport { AuthButton } from \"components/Auth\";\nimport { getAuthCaptions } from \"utils/functions/getAuthCaptions\";\n\nconst AuthPage = () => {\n  const { user, setUser, auth, isAuthPending, mode } = useAuth();\n  const { heading, alternativePagePath, goToAlternativePageLabel } =\n    getAuthCaptions(mode);\n\n  return (\n    <section className=\"mx-auto my-[60px] flex flex-col gap-10 text-center\">\n      <Container extraStyles=\"flex flex-col items-center gap-10 text-center w-full\">\n        <p className=\"max-md:text-3xl text-5xl font-semibold text-[#1e2242]\">\n          {heading}\n        </p>\n        <div className=\"flex flex-col w-[80%] max-w-[500px] mx-auto gap-6\">\n          {userInputFields.map((input) => {\n            if (mode === \"signin\" && !input.showAtSignin) return null;\n            return (\n              <input\n                onKeyDown={(e) =>\n                  handleKeyDown(e, { selectedKey: \"Enter\", callback: auth })\n                }\n                aria-label={input.caption}\n                className=\"p-3 border-b-[2px] border-[#ff8156] focus:outline-none\"\n                value={user[camelize(input.caption)]}\n                type={input.type}\n                key={input.caption}\n                name={camelize(input.caption)}\n                placeholder={input.caption}\n                onChange={(e) => handleChange(e, setUser)}\n              />\n            );\n          })}\n        </div>\n        <AuthButton auth={auth} isAuthPending={isAuthPending} mode={mode} />\n        <Link\n          className=\"capitalize\"\n          aria-label={`Go to ${alternativePagePath} Page`}\n          to={`/auth/${alternativePagePath}`}\n        >\n          <p className=\"underline underline-offset-2\">\n            {goToAlternativePageLabel}\n          </p>\n        </Link>\n      </Container>\n    </section>\n  );\n};\n\nexport default AuthPage;\n","\nexport const getAuthCaptions = (mode) => {\n    if (mode === 'signup') return {\n        heading: 'Create account',\n        alternativePagePath: 'signin',\n        goToAlternativePageLabel: \"Already have an account?\",\n    };\n    if (mode === 'signin') return {\n        heading: 'Login',\n        alternativePagePath: 'signup',\n        goToAlternativePageLabel: \"Don't have an account yet?\",\n    };\n}\n","export const setUserData = (user) => {\n    return localStorage.setItem('user', JSON.stringify(user));\n};"],"names":["handleAuthAPI","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","mode","user","_yield$API$post","data","wrap","_context","prev","next","API","post","concat","sent","abrupt","stop","_x","apply","arguments","signoutAPI","_ref3","_callee2","_context2","auth","isAuthPending","_jsx","Button","extraStyles","theme","onClick","disabled","spinner","caption","signout","queryClient","useQueryClient","navigate","useNavigate","useMutation","mutationFn","onSuccess","localStorage","removeItem","setQueryData","mutate","useSignout","extraaStyles","useAuth","useLocation","pathname","split","_useState","useState","firstName","lastName","email","password","_useState2","_slicedToArray","setUser","_useMutation","setUserData","onError","error","response","message","toast","errors","map","err","msg","isPending","_useAuth","_getAuthCaptions","heading","alternativePagePath","goToAlternativePageLabel","getAuthCaptions","className","children","_jsxs","Container","userInputFields","input","showAtSignin","onKeyDown","e","handleKeyDown","selectedKey","callback","value","camelize","type","name","placeholder","onChange","handleChange","AuthButton","Link","to","setItem","JSON","stringify"],"sourceRoot":""}