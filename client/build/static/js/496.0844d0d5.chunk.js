"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[496],{8709:function(e,t,n){n.d(t,{w:function(){return s},z:function(){return i}});var r=n(4165),a=n(5861),u=n(9396),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.mode,a=t.user,e.next=3,u.b.post("http://localhost:4001/api/auth/".concat(n),a);case 3:return s=e.sent,i=s.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post("http://localhost:4001/api/auth/signout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},1394:function(e,t,n){n.d(t,{$:function(){return u},Q:function(){return p}});var r=n(1672),a=n(184),u=function(e){var t=e.auth,n=e.isAuthPending,u=e.mode;return(0,a.jsx)(r.zx,{extraStyles:"w-[120px] mx-auto h-10",theme:"basicDark",onClick:t,disabled:n,spinner:n,caption:"signin"===u?"Sign In":"Sign up"})},s=n(3713),i=n(8556),o=n(7689),c=n(8709),p=function(){var e=function(){var e=(0,s.NL)(),t=(0,o.s0)();return{signout:(0,i.D)({mutationFn:c.z,onSuccess:function(){localStorage.removeItem("user"),e.setQueryData(["user"],null),t("/")}}).mutate}}().signout;return(0,a.jsx)(r.zx,{onClick:e,caption:"Logout",theme:"danger",extraaStyles:"w-[150px] h-10 mx-auto"})}},5496:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(8590),a=n(2877),u=n(9439),s=n(2791),i=n(8556),o=n(8599),c=n(7735),p=n(483),d=n(9085),l=n(2569),f=n(9725),x=n(1511),h=n(1672),m=n(184),U=function(e){var t=e.updateUser,n=e.isUpdateUserPending,r=e.updatedUser;return(0,m.jsx)(h.zx,{theme:"basicDark",extraStyles:"w-[150px] h-10 mx-auto",caption:"Update",disabled:n,spinner:n,onClick:function(){t(r)}})},g=n(1394),v=n(2739),b=function(){var e=function(){var e=(0,s.useState)(null),t=(0,u.Z)(e,2),n=t[0],r=t[1],a=(0,p.p)().user;(0,s.useEffect)((function(){a&&r(a)}),[a]);var l=(0,i.D)({mutationFn:function(e){return(0,c.r)({updatedUser:e})},onSuccess:function(e){(0,o.M)(e)},onError:function(e){return e.response.data.errors.map((function(e){return d.Am.error(e.msg)}))}}),f=l.mutate,x=l.isPending,h=l.isError;return{updatedUser:n,setUpdatedUser:r,updateUser:f,isUpdateUserPending:x,hasUserUpdateErrorOccured:h}}(),t=e.updatedUser,n=e.updateUser,h=e.setUpdatedUser,b=e.isUpdateUserPending,w=t?a.pb.map((function(e){return"Password"===e.caption?null:(0,m.jsx)("input",{onKeyDown:function(e){return(0,f.$)(e,{selectedKey:"Enter",callback:n})},"aria-label":e.caption,className:"p-3 border-b-[2px] border-[#ff8156] focus:outline-none",value:t[(0,l._)(e.caption)]||"",type:e.type,name:(0,l._)(e.caption),placeholder:e.caption,onChange:function(e){return(0,r.C)(e,h)}},e.caption)})):(0,m.jsx)(x.$j,{width:"25",height:"25"});return(0,m.jsx)("section",{className:"py-12",children:(0,m.jsxs)(v.W2,{extraStyles:"flex flex-col items-center w-full gap-10 text-center",children:[(0,m.jsx)("p",{className:"text-4xl font-semibold text-center",children:"Update your profile"}),(0,m.jsx)("div",{className:"flex flex-col justify-center w-[80%] h-[200px] max-w-[500px] mx-auto gap-6",children:w}),(0,m.jsxs)("div",{className:"flex gap-5 mx-auto w-fit",children:[(0,m.jsx)(U,{updateUser:n,isUpdateUserPending:b,updatedUser:t}),(0,m.jsx)(g.Q,{})]})]})})}},8599:function(e,t,n){n.d(t,{M:function(){return r}});var r=function(e){return localStorage.setItem("user",JSON.stringify(e))}}}]);
//# sourceMappingURL=496.0844d0d5.chunk.js.map