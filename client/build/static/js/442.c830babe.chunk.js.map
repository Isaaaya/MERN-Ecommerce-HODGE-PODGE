{"version":3,"file":"static/js/442.c830babe.chunk.js","mappings":"mLAeA,EAbmB,SAAHA,GAAuC,IAAjCC,EAAID,EAAJC,KAAMC,EAAaF,EAAbE,cAAeC,EAAIH,EAAJG,KACzC,OACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CACLC,YAAY,yBACZC,MAAM,YACNC,QAASP,EACTQ,SAAUP,EACVQ,QAASR,EACTS,QAAkB,WAATR,EAAoB,UAAY,WAG/C,E,wCCGA,EAZsB,WACpB,IAAQS,ECAgB,WACtB,IAAMC,GAAcC,EAAAA,EAAAA,MACdC,GAAWC,EAAAA,EAAAA,MAUjB,MAAO,CAAEJ,SATmBK,EAAAA,EAAAA,GAAY,CACpCC,WAAYC,EAAAA,EACZC,UAAW,WACPC,aAAaC,WAAW,QACxBT,EAAYU,aAAa,CAAC,QAAS,MACnCR,EAAS,IACb,IANIS,OAUZ,CDbsBC,GAAZb,QACR,OACER,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CACLG,QAASI,EACTD,QAAQ,SACRJ,MAAM,SACNmB,aAAa,0BAGnB,C,gMELaC,EAAU,WACnB,IAAQxB,ECJD,CAAEA,MAHYyB,EAAAA,EAAAA,MAAbC,SACcC,MAAM,UAAU,IDM9B3B,KACR4B,GAAwBC,EAAAA,EAAAA,UAAS,CAC7BC,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,SAAU,KACZC,GAAAC,EAAAA,EAAAA,GAAAP,EAAA,GALKQ,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GAOdtB,GAAWC,EAAAA,EAAAA,MAEXH,GAAcC,EAAAA,EAAAA,MAEpB2B,GAAmDxB,EAAAA,EAAAA,GAAY,CAC3DC,WAAY,kBAAMwB,EAAAA,EAAAA,GAAc,CAAEvC,KAAAA,EAAMoC,KAAAA,GAAO,EAC/CnB,UAAW,SAACuB,IACRC,EAAAA,EAAAA,GAAYD,GACZ9B,EAAYU,aAAa,CAAC,QAASoB,GACnC5B,EAAS,IACb,EACA8B,QAAS,SAACC,GACFA,EAAMC,SAASJ,KAAKK,SAASC,EAAAA,GAAMH,MAAMA,EAAMC,SAASJ,KAAKK,SAC7DF,EAAMC,SAASJ,KAAKO,QAAQJ,EAAMC,SAASJ,KAAKO,OAAOC,KAAI,SAACC,GAAG,OAAKH,EAAAA,GAAMH,MAAMM,EAAIC,IAAI,GAChG,IAVYpD,EAAIwC,EAAZjB,OAAyBtB,EAAauC,EAAxBa,UAatB,MAAO,CAAEf,KAAAA,EAAMC,QAAAA,EAASvC,KAAAA,EAAMC,cAAAA,EAAeC,KAAAA,EACjD,E,uCEqBA,EA9CiB,WACf,IAAAoD,EAAqD5B,IAA7CY,EAAIgB,EAAJhB,KAAMC,EAAOe,EAAPf,QAASvC,EAAIsD,EAAJtD,KAAMC,EAAaqD,EAAbrD,cAAeC,EAAIoD,EAAJpD,KAC5CqD,ECZ6B,SAACrD,GAC5B,MAAa,WAATA,EAA0B,CAC1BsD,QAAS,iBACTC,oBAAqB,SACrBC,yBAA0B,4BAEjB,WAATxD,EAA0B,CAC1BsD,QAAS,QACTC,oBAAqB,SACrBC,yBAA0B,mCAH9B,CAKJ,CDEIC,CAAgBzD,GADVsD,EAAOD,EAAPC,QAASC,EAAmBF,EAAnBE,oBAAqBC,EAAwBH,EAAxBG,yBAGtC,OACEvD,EAAAA,EAAAA,KAAA,WAASyD,UAAU,qDAAoDC,UACrEC,EAAAA,EAAAA,MAACC,EAAAA,GAAS,CAAC1D,YAAY,uDAAsDwD,SAAA,EAC3E1D,EAAAA,EAAAA,KAAA,KAAGyD,UAAU,wDAAuDC,SACjEL,KAEHrD,EAAAA,EAAAA,KAAA,OAAKyD,UAAU,oDAAmDC,SAC/DG,EAAAA,GAAgBd,KAAI,SAACe,GACpB,MAAa,WAAT/D,GAAsB+D,EAAMC,cAE9B/D,EAAAA,EAAAA,KAAA,SACEgE,UAAW,SAACC,GAAC,OACXC,EAAAA,EAAAA,GAAcD,EAAG,CAAEE,YAAa,QAASC,SAAUvE,GAAO,EAE5D,aAAYiE,EAAMvD,QAClBkD,UAAU,yDACVY,MAAOlC,GAAKmC,EAAAA,EAAAA,GAASR,EAAMvD,UAC3BgE,KAAMT,EAAMS,KAEZC,MAAMF,EAAAA,EAAAA,GAASR,EAAMvD,SACrBkE,YAAaX,EAAMvD,QACnBmE,SAAU,SAACT,GAAC,OAAKU,EAAAA,EAAAA,GAAaV,EAAG7B,EAAQ,GAHpC0B,EAAMvD,SAVsC,IAgBvD,OAEFP,EAAAA,EAAAA,KAAC4E,EAAAA,EAAU,CAAC/E,KAAMA,EAAMC,cAAeA,EAAeC,KAAMA,KAC5DC,EAAAA,EAAAA,KAAC6E,EAAAA,GAAI,CACHpB,UAAU,aACV,sBAAAqB,OAAqBxB,EAAmB,SACxCyB,GAAE,SAAAD,OAAWxB,GAAsBI,UAEnC1D,EAAAA,EAAAA,KAAA,KAAGyD,UAAU,+BAA8BC,SACxCH,UAMb,C,gHErDajB,EAAa,eAAA0C,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAAxF,GAAA,IAAAG,EAAAoC,EAAAkD,EAAA9C,EAAA,OAAA2C,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAmB,OAAV1F,EAAIH,EAAJG,KAAMoC,EAAIvC,EAAJuC,KAAIoD,EAAAE,KAAA,EACrBC,EAAAA,EAAIC,KAAK,kCAADb,OAAmC/E,GAAQoC,GAAM,KAAD,EAAnE,OAAmEkD,EAAAE,EAAAK,KAAvErD,EAAI8C,EAAJ9C,KAAIgD,EAAAM,OAAA,SACLtD,GAAI,wBAAAgD,EAAAO,OAAA,GAAAV,EAAA,KACd,gBAHyBW,GAAA,OAAAf,EAAAgB,MAAA,KAAAC,UAAA,KAMblF,EAAU,eAAAmF,GAAAjB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAgB,IAAA,OAAAjB,EAAAA,EAAAA,KAAAI,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAX,KAAA,EACTC,EAAAA,EAAIC,KAAK,0CAA0C,KAAD,SAAAS,EAAAP,OAAA,SAAAO,EAAAR,MAAA,wBAAAQ,EAAAN,OAAA,GAAAK,EAAA,KAClE,kBAFsB,OAAAD,EAAAF,MAAA,KAAAC,UAAA,I,uDCRhB,IAAMzD,EAAc,SAACL,GACxB,OAAOlB,aAAaoF,QAAQ,OAAQC,KAAKC,UAAUpE,GACvD,C","sources":["Components/Auth/AuthButton.jsx","Components/Auth/SignoutButton.jsx","hooks/auth/useSignout.js","hooks/auth/useAuth.js","hooks/auth/useGetAuthMode.js","Pages/AuthPage.jsx","utils/functions/getAuthCaptions.js","api/auth.js","utils/functions/setUserData.js"],"sourcesContent":["import { Button } from \"Components/Common\";\n\nconst AuthButton = ({ auth, isAuthPending, mode }) => {\n  return (\n    <Button\n      extraStyles=\"w-[120px] mx-auto h-10\"\n      theme=\"basicDark\"\n      onClick={auth}\n      disabled={isAuthPending}\n      spinner={isAuthPending}\n      caption={mode === \"signin\" ? \"Sign In\" : \"Sign up\"}\n    />\n  );\n};\n\nexport default AuthButton;\n","import { useSignout } from \"hooks/auth/useSignout\";\n\nimport { Button } from \"Components/Common\";\n\nconst SignoutButton = () => {\n  const { signout } = useSignout();\n  return (\n    <Button\n      onClick={signout}\n      caption=\"Logout\"\n      theme=\"danger\"\n      extraaStyles=\"w-[150px] h-10 mx-auto\"\n    />\n  );\n};\n\nexport default SignoutButton;\n","import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { signoutAPI } from \"api/auth\";\n\nexport const useSignout = () => {\n    const queryClient = useQueryClient();\n    const navigate = useNavigate();\n    const { mutate: signout } = useMutation({\n        mutationFn: signoutAPI,\n        onSuccess: () => {\n            localStorage.removeItem('user');\n            queryClient.setQueryData(['user'], null);\n            navigate('/');\n        }\n    });\n\n    return { signout }\n}\n","import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useGetAuthMode } from \"hooks/auth/useGetAuthMode\";\n\nimport { handleAuthAPI } from \"api/auth\";\nimport { setUserData } from \"utils/functions/setUserData\";\nimport { toast } from 'react-toastify';\n\nexport const useAuth = () => {\n    const { mode } = useGetAuthMode();\n    const [user, setUser] = useState({\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\",\n    });\n\n    const navigate = useNavigate();\n\n    const queryClient = useQueryClient();\n\n    const { mutate: auth, isPending: isAuthPending } = useMutation({\n        mutationFn: () => handleAuthAPI({ mode, user }),\n        onSuccess: (data) => {\n            setUserData(data);\n            queryClient.setQueryData([\"user\"], data);\n            navigate(\"/\");\n        },\n        onError: (error) => {\n            if (error.response.data.message) toast.error(error.response.data.message)\n            if (error.response.data.errors) error.response.data.errors.map((err) => toast.error(err.msg))\n        }\n    });\n\n    return { user, setUser, auth, isAuthPending, mode }\n}\n","import { useLocation } from \"react-router-dom\";\n\nexport const useGetAuthMode = () => {\n    const { pathname } = useLocation();\n    const mode = pathname.split(\"/auth/\")[1];\n\n    return { mode };\n}\n","import { userInputFields } from \"utils/constants\";\nimport { Link } from \"react-router-dom\";\nimport { handleChange } from \"utils/functions/handleChange\";\nimport { handleKeyDown } from \"utils/functions/handleKeyDown\";\nimport { useAuth } from \"hooks/auth/useAuth\";\nimport { camelize } from \"utils/functions/camelize\";\n\nimport { Container } from \"layout\";\nimport { AuthButton } from \"Components/Auth\";\nimport { getAuthCaptions } from \"utils/functions/getAuthCaptions\";\n\nconst AuthPage = () => {\n  const { user, setUser, auth, isAuthPending, mode } = useAuth();\n  const { heading, alternativePagePath, goToAlternativePageLabel } =\n    getAuthCaptions(mode);\n\n  return (\n    <section className=\"mx-auto my-[60px] flex flex-col gap-10 text-center\">\n      <Container extraStyles=\"flex flex-col items-center gap-10 text-center w-full\">\n        <p className=\"max-md:text-3xl text-5xl font-semibold text-[#1e2242]\">\n          {heading}\n        </p>\n        <div className=\"flex flex-col w-[80%] max-w-[500px] mx-auto gap-6\">\n          {userInputFields.map((input) => {\n            if (mode === \"signin\" && !input.showAtSignin) return null;\n            return (\n              <input\n                onKeyDown={(e) =>\n                  handleKeyDown(e, { selectedKey: \"Enter\", callback: auth })\n                }\n                aria-label={input.caption}\n                className=\"p-3 border-b-[2px] border-[#ff8156] focus:outline-none\"\n                value={user[camelize(input.caption)]}\n                type={input.type}\n                key={input.caption}\n                name={camelize(input.caption)}\n                placeholder={input.caption}\n                onChange={(e) => handleChange(e, setUser)}\n              />\n            );\n          })}\n        </div>\n        <AuthButton auth={auth} isAuthPending={isAuthPending} mode={mode} />\n        <Link\n          className=\"capitalize\"\n          aria-label={`Go to ${alternativePagePath} Page`}\n          to={`/auth/${alternativePagePath}`}\n        >\n          <p className=\"underline underline-offset-2\">\n            {goToAlternativePageLabel}\n          </p>\n        </Link>\n      </Container>\n    </section>\n  );\n};\n\nexport default AuthPage;\n","\nexport const getAuthCaptions = (mode) => {\n    if (mode === 'signup') return {\n        heading: 'Create account',\n        alternativePagePath: 'signin',\n        goToAlternativePageLabel: \"Already have an account?\",\n    };\n    if (mode === 'signin') return {\n        heading: 'Login',\n        alternativePagePath: 'signup',\n        goToAlternativePageLabel: \"Don't have an account yet?\",\n    };\n}\n","import { API } from \"api/index\";\n\nexport const handleAuthAPI = async ({ mode, user }) => {\n    const { data } = await API.post(`http://localhost:4001/api/auth/${mode}`, user);\n    return data;\n};\n\n\nexport const signoutAPI = async () => {\n    return await API.post(`http://localhost:4001/api/auth/signout`);\n};","export const setUserData = (user) => {\n    return localStorage.setItem('user', JSON.stringify(user));\n};"],"names":["_ref","auth","isAuthPending","mode","_jsx","Button","extraStyles","theme","onClick","disabled","spinner","caption","signout","queryClient","useQueryClient","navigate","useNavigate","useMutation","mutationFn","signoutAPI","onSuccess","localStorage","removeItem","setQueryData","mutate","useSignout","extraaStyles","useAuth","useLocation","pathname","split","_useState","useState","firstName","lastName","email","password","_useState2","_slicedToArray","user","setUser","_useMutation","handleAuthAPI","data","setUserData","onError","error","response","message","toast","errors","map","err","msg","isPending","_useAuth","_getAuthCaptions","heading","alternativePagePath","goToAlternativePageLabel","getAuthCaptions","className","children","_jsxs","Container","userInputFields","input","showAtSignin","onKeyDown","e","handleKeyDown","selectedKey","callback","value","camelize","type","name","placeholder","onChange","handleChange","AuthButton","Link","concat","to","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$API$post","wrap","_context","prev","next","API","post","sent","abrupt","stop","_x","apply","arguments","_ref3","_callee2","_context2","setItem","JSON","stringify"],"sourceRoot":""}